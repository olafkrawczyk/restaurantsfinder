;             
CREATE USER IF NOT EXISTS SA SALT 'bc093e0945dfa9bf' HASH '0e7e99dd50199396ddbb17beaedc1a3196ac99246b53b6c2b7ce525aa20197b5' ADMIN;           
CREATE SEQUENCE PUBLIC.TABLE_SEQUENCE START WITH 10 INCREMENT BY 50;          
CREATE SEQUENCE PUBLIC.CLIENT_SEQUENCE START WITH 110 INCREMENT BY 50;        
CREATE SEQUENCE PUBLIC.OWNER_SEQUENCE START WITH 10 INCREMENT BY 50;          
CREATE SEQUENCE PUBLIC.HIBERNATE_SEQUENCE START WITH 1;       
CREATE SEQUENCE PUBLIC.MENU_SEQUENCE START WITH 10 INCREMENT BY 50;           
CREATE SEQUENCE PUBLIC.RESTAURANT_SEQUENCE START WITH 10 INCREMENT BY 50;     
CREATE SEQUENCE PUBLIC.ADDRESS_SEQUENCE START WITH 10 INCREMENT BY 50;        
CREATE SEQUENCE PUBLIC.MENUITEM_SEQUENCE START WITH 10 INCREMENT BY 50;       
CREATE MEMORY TABLE PUBLIC.ADDRESS(
    ID BIGINT NOT NULL,
    CITY VARCHAR(255),
    POSTAL_CODE VARCHAR(255),
    STREET VARCHAR(255)
);              
ALTER TABLE PUBLIC.ADDRESS ADD CONSTRAINT PUBLIC.CONSTRAINT_E PRIMARY KEY(ID);
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.ADDRESS; 
INSERT INTO PUBLIC.ADDRESS(ID, CITY, POSTAL_CODE, STREET) VALUES
(1, 'Wroclaw', '50-363', 'Rynek 6'),
(2, 'Warszawa', '00-001', 'Rynek 3'),
(3, 'Katowice', '40-201', 'Rynek 2');          
CREATE MEMORY TABLE PUBLIC.CLIENT(
    ID BIGINT NOT NULL,
    EMAIL_ADDRESS VARCHAR(255) NOT NULL,
    FIRST_NAME VARCHAR(255) NOT NULL,
    LAST_NAME VARCHAR(255) NOT NULL,
    PASSWORD VARCHAR(255) NOT NULL,
    ADDRESS_ID BIGINT
);            
ALTER TABLE PUBLIC.CLIENT ADD CONSTRAINT PUBLIC.CONSTRAINT_7 PRIMARY KEY(ID); 
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.CLIENT;  
INSERT INTO PUBLIC.CLIENT(ID, EMAIL_ADDRESS, FIRST_NAME, LAST_NAME, PASSWORD, ADDRESS_ID) VALUES
(1, 'michalina.kowalska@gmail.com', 'Michalina', 'Kowalska', 'password', 1),
(10, 'john.doe@gmail.com', 'Olaf', 'Krawczyk', 'password', NULL);             
CREATE MEMORY TABLE PUBLIC.MENU(
    ID BIGINT NOT NULL
);  
ALTER TABLE PUBLIC.MENU ADD CONSTRAINT PUBLIC.CONSTRAINT_2 PRIMARY KEY(ID);   
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.MENU;    
INSERT INTO PUBLIC.MENU(ID) VALUES
(1);      
CREATE MEMORY TABLE PUBLIC.MENU_ITEM(
    ID BIGINT NOT NULL,
    DESCRIPTION VARCHAR(255),
    DISH_NAME VARCHAR(255),
    PRICE DOUBLE NOT NULL,
    MENU_ID BIGINT
);
ALTER TABLE PUBLIC.MENU_ITEM ADD CONSTRAINT PUBLIC.CONSTRAINT_4 PRIMARY KEY(ID);              
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.MENU_ITEM;               
INSERT INTO PUBLIC.MENU_ITEM(ID, DESCRIPTION, DISH_NAME, PRICE, MENU_ID) VALUES
(1, 'Smoked salmon with bitroot', 'Smoked salmon', 22.0, 1),
(2, 'Beef burger, french fries', 'Classic burger', 12.0, 1),
(3, 'Spagetti carbonara served with garlic olive oil', 'Carbonara', 20.5, 1),
(4, 'Pulled pork with sweet-sour paprika', 'Pulled pork', 18.0, 1);               
CREATE MEMORY TABLE PUBLIC.OWNER(
    ID BIGINT NOT NULL,
    EMAIL_ADDRESS VARCHAR(255) NOT NULL,
    FIRST_NAME VARCHAR(255) NOT NULL,
    LAST_NAME VARCHAR(255) NOT NULL,
    PASSWORD VARCHAR(255) NOT NULL,
    ADDRESS_ID BIGINT
);             
ALTER TABLE PUBLIC.OWNER ADD CONSTRAINT PUBLIC.CONSTRAINT_48 PRIMARY KEY(ID); 
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.OWNER;   
INSERT INTO PUBLIC.OWNER(ID, EMAIL_ADDRESS, FIRST_NAME, LAST_NAME, PASSWORD, ADDRESS_ID) VALUES
(1, 'john.doe@gmail.com', 'John', 'Doe', 'password', 1),
(2, 'jan.kowalski@gmail.com', 'Jan', 'Kowalski', 'password', 2);   
CREATE MEMORY TABLE PUBLIC.RESERVATION(
    ID BIGINT NOT NULL,
    CREATION_DATE TIMESTAMP,
    RESERVATION_DATE TIMESTAMP,
    RESERVATION_HOURS INTEGER NOT NULL,
    RESERVATION_STATUS VARCHAR(255),
    CLIENT_ID BIGINT,
    RETAURANT_ID BIGINT,
    TABLE_ID BIGINT
);      
ALTER TABLE PUBLIC.RESERVATION ADD CONSTRAINT PUBLIC.CONSTRAINT_23 PRIMARY KEY(ID);           
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.RESERVATION;             
CREATE MEMORY TABLE PUBLIC.RESTAURANT(
    ID BIGINT NOT NULL,
    CLOSE_HOUR VARCHAR(255),
    CUISINE VARCHAR(255),
    DESCRIPTION VARCHAR(255),
    EMAIL VARCHAR(255),
    NAME VARCHAR(255),
    OPEN_HOUR VARCHAR(255),
    PHONE_NUMBER VARCHAR(255),
    PHOTO VARCHAR(255),
    ADDRESS_ID BIGINT,
    MENU_ID BIGINT,
    OWNER_ID BIGINT
);          
ALTER TABLE PUBLIC.RESTAURANT ADD CONSTRAINT PUBLIC.CONSTRAINT_B PRIMARY KEY(ID);             
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.RESTAURANT;              
INSERT INTO PUBLIC.RESTAURANT(ID, CLOSE_HOUR, CUISINE, DESCRIPTION, EMAIL, NAME, OPEN_HOUR, PHONE_NUMBER, PHOTO, ADDRESS_ID, MENU_ID, OWNER_ID) VALUES
(1, NULL, 'ITALIAN', 'Fun italian restaurant', NULL, 'Pastini', NULL, '71 12345', NULL, 1, 1, 1),
(2, NULL, 'FUSION', NULL, NULL, 'Seven', NULL, '22 12345', NULL, 2, NULL, 1),
(3, NULL, 'THAI', NULL, NULL, 'Woo Thai', NULL, '22 12345', NULL, 3, NULL, 2);      
CREATE MEMORY TABLE PUBLIC.RESTAURANT_TABLE(
    ID BIGINT NOT NULL,
    RESTAURANT_TABLE_ID VARCHAR(255),
    SEATS INTEGER,
    RESTAURANT_ID BIGINT
);
ALTER TABLE PUBLIC.RESTAURANT_TABLE ADD CONSTRAINT PUBLIC.CONSTRAINT_E8 PRIMARY KEY(ID);      
-- 6 +/- SELECT COUNT(*) FROM PUBLIC.RESTAURANT_TABLE;        
INSERT INTO PUBLIC.RESTAURANT_TABLE(ID, RESTAURANT_TABLE_ID, SEATS, RESTAURANT_ID) VALUES
(1, NULL, 2, 1),
(2, NULL, 2, 1),
(3, NULL, 2, 2),
(4, NULL, 2, 2),
(5, NULL, 4, 3),
(6, NULL, 4, 3);         
ALTER TABLE PUBLIC.CLIENT ADD CONSTRAINT PUBLIC.UK_Y9TPSIGGHLUJK5UBUUUSE769 UNIQUE(EMAIL_ADDRESS);            
ALTER TABLE PUBLIC.OWNER ADD CONSTRAINT PUBLIC.UK_8SFRSKK82TJV98DDOGCKD8PO3 UNIQUE(EMAIL_ADDRESS);            
ALTER TABLE PUBLIC.RESERVATION ADD CONSTRAINT PUBLIC.FKIUBXSHFEM7TWM0KW6OT5CC2WN FOREIGN KEY(TABLE_ID) REFERENCES PUBLIC.RESTAURANT_TABLE(ID) NOCHECK;        
ALTER TABLE PUBLIC.RESTAURANT ADD CONSTRAINT PUBLIC.FKOOIID4751I6WV4EBWBI6GJFR3 FOREIGN KEY(MENU_ID) REFERENCES PUBLIC.MENU(ID) NOCHECK;      
ALTER TABLE PUBLIC.RESERVATION ADD CONSTRAINT PUBLIC.FKOEWAR6F18RKN4IPTR6DA4OYSV FOREIGN KEY(CLIENT_ID) REFERENCES PUBLIC.CLIENT(ID) NOCHECK; 
ALTER TABLE PUBLIC.RESTAURANT_TABLE ADD CONSTRAINT PUBLIC.FK3PDOVXHXTWRB5KBOJU0QS21TN FOREIGN KEY(RESTAURANT_ID) REFERENCES PUBLIC.RESTAURANT(ID) NOCHECK;    
ALTER TABLE PUBLIC.MENU_ITEM ADD CONSTRAINT PUBLIC.FKCDKMV42YHN6UDAH6UG8RSYMFL FOREIGN KEY(MENU_ID) REFERENCES PUBLIC.MENU(ID) NOCHECK;       
ALTER TABLE PUBLIC.RESTAURANT ADD CONSTRAINT PUBLIC.FKFFYIATIOVNAV6N4S735HEQV1E FOREIGN KEY(OWNER_ID) REFERENCES PUBLIC.OWNER(ID) NOCHECK;    
ALTER TABLE PUBLIC.RESERVATION ADD CONSTRAINT PUBLIC.FKJ6KR5BQMVSMXB62XKCS55L2KH FOREIGN KEY(RETAURANT_ID) REFERENCES PUBLIC.RESTAURANT(ID) NOCHECK;          
ALTER TABLE PUBLIC.RESTAURANT ADD CONSTRAINT PUBLIC.FK96Q13P1PTPEWVUS590A8O83XT FOREIGN KEY(ADDRESS_ID) REFERENCES PUBLIC.ADDRESS(ID) NOCHECK;
ALTER TABLE PUBLIC.OWNER ADD CONSTRAINT PUBLIC.FKDA9U2G6VWEPWQ8FB26HIYXCDV FOREIGN KEY(ADDRESS_ID) REFERENCES PUBLIC.ADDRESS(ID) NOCHECK;     
ALTER TABLE PUBLIC.CLIENT ADD CONSTRAINT PUBLIC.FKB137U2CL2EC0OTAE32LK5PCL2 FOREIGN KEY(ADDRESS_ID) REFERENCES PUBLIC.ADDRESS(ID) NOCHECK;    
